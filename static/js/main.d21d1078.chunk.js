(this.webpackJsonpagriculture=this.webpackJsonpagriculture||[]).push([[0],{108:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(6),o=a.n(r),l=a(20),i=a.n(l),s=a(32),p=a(14),u=(a(83),a(33)),d=a.n(u),m=a(128),f=a(132),h=a(139),g=a(133),b=a(134),E=a(135),v=a(136),j=a(137),y=a(42),O=a.n(y),x=(a(101),a(138)),w=a(131),k=a(110),C=a(57),S=Object(m.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",width:"100%"},paper:{backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}}));function N(e){var t=S();console.log("props",e.graphData);console.log("Data",e);return c.a.createElement("div",null,c.a.createElement(x.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:t.modal,open:e.open,onClose:function(){e.handleClose()},closeAfterTransition:!0,BackdropComponent:w.a,BackdropProps:{timeout:500}},c.a.createElement(k.a,{in:e.open},c.a.createElement(C.a,{width:"500px",height:"300px",chartType:"Line",loader:c.a.createElement("div",null,"Loading Chart"),data:e.graphData,options:{chart:{title:"Historic Data for "+e.cropName,subtitle:"Predicted Yield for 2020 is "+e.predictData+" (Tonnes/Hectare)"},vAxis:"Yield(Tonnes/Hectare)"}}))))}var D=a(63),_=a.n(D),T=Object(m.a)({root:{maxWidth:345},media:{height:200}});function Y(e){var t=e.data,a=e.city,r=T(),o=Object(n.useState)(!1),l=Object(p.a)(o,2),u=l[0],m=l[1],y=Object(n.useState)(),x=Object(p.a)(y,2),w=x[0],k=x[1],C=Object(n.useState)(),S=Object(p.a)(C,2),D=S[0],Y=S[1],A=Object(n.useState)(),L=Object(p.a)(A,2),H=L[0],M=L[1],B=t.split(","),P=function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d()({method:"get",url:"http://localhost:3000/".concat(a,"?crop=").concat(t)}).then((function(e){var t=[],a=[];e.data.map((function(e,n){t.push(["Year","Yield (Tonnes/Hectare)"]),console.log("result if push",t),e.data.map((function(e,n){for(var c=0;c<e.Year.length;c++)t.push([e.Year[c],e.value[c]]),a.push([e.Year[c],e.value[c]])}))})),t.forEach((function(e){e[0]=String(e[0])})),k(t),console.log("Data to be analysed ",a);var n=_.a.linear(a,{order:2,precision:2}).predict(2020);console.log("Prediction value",n[1]),Y(n[1])}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}();return c.a.createElement("div",{className:O.a.container},c.a.createElement(f.a,{container:!0,spacing:3},c.a.createElement(f.a,{item:!0,xs:12},c.a.createElement(f.a,{container:!0,spacing:2},B&&B.map((function(e,t){return c.a.createElement(f.a,{item:!0,xs:12,md:3,key:t,className:"text-center"},c.a.createElement(h.a,{className:O.a.card},c.a.createElement(g.a,null,c.a.createElement(b.a,null,c.a.createElement("img",{src:"https://www.sowpure.shop/media/catalog/product/cache/97a5216251e24732e951d8cd0d62ef2c/s/o/sowpure-bottlegourd-1_4.jpg",className:r.media,title:e}),c.a.createElement(E.a,{variant:"h4"},e))),c.a.createElement(v.a,null,c.a.createElement(j.a,{size:"small",color:"primary",onClick:function(){return function(e){P(e),M(e),m(!0),console.log("crop",e,a)}(e)}},"Graph"))))}))))),u&&c.a.createElement(N,{open:u,handleClose:function(){m(!1),k()},graphData:w,cropName:H,predictData:D}))}var A=a(64),L=a.n(A),H=a(66),M=a(65),B=a.n(M),P=["Agartala"];var z=function(){var e=Object(n.useState)(),t=Object(p.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(""),l=Object(p.a)(o,2),u=l[0],m=l[1],f=Object(n.useState)(!1),h=Object(p.a)(f,2),g=h[0],b=h[1],E=Object(n.useState)(),v=Object(p.a)(E,2),j=v[0],y=v[1];function O(){return(O=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d()({method:"post",url:"http://localhost:5000/location",data:L.a.stringify({location:u}),headers:{"content-type":"application/x-www-form-urlencoded;charset=utf-8"}}).then((function(e){setTimeout((function(){b(!1),r(e.data)}),3e3)}));case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0),b(!1);case 9:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){u&&(b(!0),function(e){O.apply(this,arguments)}())}),[u]),Object(n.useEffect)((function(){Object(H.a)(B.a).then((function(e){y(e)}))}),[]),c.a.createElement("div",null,c.a.createElement("nav",null,c.a.createElement("img",{src:"https://firebasestorage.googleapis.com/v0/b/linkclip.appspot.com/o/logo.png?alt=media&token=68557a10-fb5f-4396-8425-662b7183ece1",alt:"logo",width:55,height:55}),c.a.createElement("h3",{style:{color:"orange",marginTop:10}},"Agri ML")),c.a.createElement("div",{className:"content text-start"},c.a.createElement("h1",{className:"font"},"Select Capital City to Generate ML Analysis"),c.a.createElement("p",null,"We have added the historical data of these states and our ML system is capable of generating anlytical report of crop yeild based on it."),c.a.createElement("div",{style:{display:"flex"}},P.map((function(e,t){return c.a.createElement("span",{key:t,onClick:function(t){m(e),b(!0)},className:"bdg ".concat(e===u?"bdg-on":"bdg-off")},e)}))),c.a.createElement(N,{data:j}),u?g?c.a.createElement("div",{className:"text-center mt-30"},c.a.createElement("img",{src:"https://firebasestorage.googleapis.com/v0/b/linkclip.appspot.com/o/loading_data.gif?alt=media&token=31d6d30f-b41f-4288-b310-2aada76f1c01",alt:"loading",width:550})," ",c.a.createElement("br",null)):c.a.createElement(Y,{data:a||"",city:u}):null))};o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(z,null)),document.getElementById("root"))},42:function(e,t,a){e.exports={container:"Cards_container__1OD74",card:"Cards_card__2zZAL"}},65:function(e,t,a){e.exports=a.p+"static/media/cropData.8698e162.csv"},77:function(e,t,a){e.exports=a(108)},83:function(e,t,a){}},[[77,1,2]]]);
//# sourceMappingURL=main.d21d1078.chunk.js.map