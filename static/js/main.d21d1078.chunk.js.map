{"version":3,"sources":["component/ModalComponent/Modal.jsx","component/Cards/Cards.jsx","App.js","index.js","component/Cards/Cards.module.css","cropData.csv"],"names":["useStyles","makeStyles","theme","modal","display","alignItems","justifyContent","height","width","paper","backgroundColor","palette","background","border","boxShadow","shadows","padding","spacing","TransitionsModal","props","classes","console","log","graphData","Modal","aria-labelledby","aria-describedby","className","open","onClose","handleClose","closeAfterTransition","BackdropComponent","Backdrop","BackdropProps","timeout","Fade","in","chartType","loader","data","options","chart","title","cropName","subtitle","predictData","vAxis","root","maxWidth","media","Cards","city","useState","openDialog","setOpenDialog","setGraphData","setPredictData","setCropName","cropList","split","fetchGraphData","crop","a","axios","method","url","then","result","res","map","x","index","push","y","i","j","Year","length","value","forEach","element","String","prediction","regression","linear","order","precision","predict","styles","container","Grid","item","xs","md","key","Card","card","CardActionArea","CardContent","src","Typography","variant","CardActions","Button","size","color","onClick","handleOpenDialog","STATES","App","cropData","setCropData","selectedCity","setCity","loading","setLoading","csvData","setCsvData","qs","stringify","location","headers","setTimeout","useEffect","fetchLocationData","csv","csvFile","alt","style","marginTop","state","e","ReactDOM","render","StrictMode","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.d21d1078.chunk.js","sourcesContent":["import React, { useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Modal from \"@material-ui/core/Modal\";\nimport Backdrop from \"@material-ui/core/Backdrop\";\nimport Fade from \"@material-ui/core/Fade\";\nimport Chart from \"react-google-charts\";\n\nconst useStyles = makeStyles((theme) => ({\n  modal: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    height: \"100%\",\n    width: \"100%\",\n  },\n  paper: {\n    backgroundColor: theme.palette.background.paper,\n    border: \"2px solid #000\",\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n  },\n}));\n\nexport default function TransitionsModal(props) {\n  const classes = useStyles();\n\n  console.log(\"props\", props.graphData);\n\n  const dummyData = [\n    [\"Year\", \"Yeild\"],\n    [\"1992\", 100],\n    [\"1993\", 200],\n    [\"2016\", 60],\n    [\"2017\", 90],\n  ];\n  console.log(\"Data\", props);\n\n  const handleClose = () => {\n    props.handleClose();\n  };\n\n  return (\n    <div>\n      <Modal\n        aria-labelledby=\"transition-modal-title\"\n        aria-describedby=\"transition-modal-description\"\n        className={classes.modal}\n        open={props.open}\n        onClose={handleClose}\n        closeAfterTransition\n        BackdropComponent={Backdrop}\n        BackdropProps={{\n          timeout: 500,\n        }}\n      >\n        <Fade in={props.open}>\n          <Chart\n            width={\"500px\"}\n            height={\"300px\"}\n            chartType=\"Line\"\n            loader={<div>Loading Chart</div>}\n            data={props.graphData}\n            options={{\n              // Material design options\n              chart: {\n                title: \"Historic Data for \" + props.cropName,\n                subtitle:\n                  \"Predicted Yield for 2020 is \" +\n                  props.predictData +\n                  \" (Tonnes/Hectare)\",\n              },\n              vAxis: \"Yield(Tonnes/Hectare)\",\n            }}\n          />\n        </Fade>\n      </Modal>\n    </div>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport {\n  makeStyles,\n  Card,\n  Typography,\n  Grid,\n  Button,\n  CardActionArea,\n  CardContent,\n  CardMedia,\n  CardActions,\n} from \"@material-ui/core\";\nimport styles from \"./Cards.module.css\";\nimport cx from \"classnames\";\nimport Modal from \"../ModalComponent/Modal\";\nimport axios from \"axios\";\nimport regression from \"regression\";\n\nconst useStyles = makeStyles({\n  root: {\n    maxWidth: 345,\n  },\n  media: {\n    height: 200,\n  },\n});\n\nconst IMG_MAP = {\n  \"Potato\": \"https://www.macmillandictionary.com/external/slideshow/full/141151_full.jpg\",\n  \"Cauliflower\": \"https://www.producemarketguide.com/sites/default/files/Commodities.tar/Commodities/cauliflower_commodity-page.png\",\n  \"Bottle Gourd\": \"https://www.sowpure.shop/media/catalog/product/cache/97a5216251e24732e951d8cd0d62ef2c/s/o/sowpure-bottlegourd-1_4.jpg\",\n  \"Barley\": \"https://5.imimg.com/data5/YN/MK/MY-13902206/eurograins-barley-500x500.jpg\",\n  \"Guar seed\": \"https://ncdex.com/public/uploads/commodity/image/Guar-Seed-10-MT.jpg\",\n  \"Bean\": \"https://images.immediate.co.uk/production/volatile/sites/30/2020/02/Kidney-beans-8496667.jpg\",\n  \"Jute\": \"https://5.imimg.com/data5/RT/SO/MY-25065022/jute-fiber-500x500.jpg\",\n  \"Groundnut\": \"https://images.delightedcooking.com/slideshow-mobile-small/peanuts-against-white-background.jpg\",\n  \"Cardamom\": \"https://cdn.britannica.com/20/234020-050-8BC4A9C6/cardamom-seed-pods.jpg\",\n  \"Carrot\": \"https://m.media-amazon.com/images/I/51mUwdp2THL._SL1100_.jpg\",\n  \"Lentil\": \"https://i0.wp.com/post.medicalnewstoday.com/wp-content/uploads/sites/3/2019/11/lentils-in-a-jug-and-on-a-spoon.jpg?w=1155&h=1734\",\n}\n\n\nexport default function Cards({ data, city }) {\n  const classes = useStyles();\n\n  const [openDialog, setOpenDialog] = useState(false);\n  const [graphData, setGraphData] = useState();\n  const [predictData, setPredictData] = useState();\n  const [cropName, setCropName] = useState();\n  const cropList = data.split(\",\");\n\n  const fetchGraphData = async (crop) => {\n    try {\n      await axios({\n        method: \"get\",\n        url: `http://localhost:3000/${city}?crop=${crop}`,\n      }).then((result) => {\n        var res = [];\n        var predictData = [];\n        result.data.map((x, index) => {\n          res.push([\"Year\", \"Yield (Tonnes/Hectare)\"]);\n          console.log(\"result if push\", res);\n\n          x.data.map((y, i) => {\n            for (var j = 0; j < y.Year.length; j++) {\n              res.push([y.Year[j], y.value[j]]);\n              predictData.push([y.Year[j], y.value[j]]);\n            }\n          });\n        });\n\n        res.forEach((element) => {\n          element[0] = String(element[0]);\n        });\n\n        setGraphData(res);\n        console.log(\"Data to be analysed \", predictData);\n        const predictResult = regression.linear(predictData, {\n          order: 2,\n          precision: 2,\n        });\n        // const gradient = predictResult.equation[0];\n        // const yIntercept = predictResult.equation[1];\n        const prediction = predictResult.predict(2020);\n        // const totalY = gradient * 2020 + yIntercept;\n        console.log(\"Prediction value\", prediction[1]);\n        setPredictData(prediction[1]);\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const handleOpenDialog = (crop) => {\n    fetchGraphData(crop);\n    setCropName(crop);\n    setOpenDialog(true);\n    console.log(\"crop\", crop, city);\n  };\n\n  return (\n    <div className={styles.container}>\n      <Grid container spacing={3}>\n        <Grid item xs={12}>\n          <Grid container spacing={2}>\n            {cropList &&\n              cropList.map((crop, i) => (\n                <Grid item xs={12} md={3} key={i} className=\"text-center\">\n                  <Card className={styles.card}>\n                    <CardActionArea>\n                      <CardContent>\n                        <img\n                          src={\"https://www.sowpure.shop/media/catalog/product/cache/97a5216251e24732e951d8cd0d62ef2c/s/o/sowpure-bottlegourd-1_4.jpg\"}\n                          className={classes.media}\n                          title={crop}\n                          \n                        />\n                        <Typography variant=\"h4\">{crop}</Typography>\n                      </CardContent>\n                    </CardActionArea>\n                    <CardActions>\n                      <Button\n                        size=\"small\"\n                        color=\"primary\"\n                        onClick={() => handleOpenDialog(crop)}\n                      >\n                        {\"Graph\"}\n                      </Button>\n                    </CardActions>\n                  </Card>\n                </Grid>\n              ))}\n          </Grid>\n        </Grid>\n      </Grid>\n      {openDialog && (\n        <Modal\n          open={openDialog}\n          handleClose={() => {\n            setOpenDialog(false);\n            setGraphData();\n          }}\n          graphData={graphData}\n          cropName={cropName}\n          predictData={predictData}\n        />\n      )}\n    </div>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport \"./App.css\";\nimport axios from \"axios\";\nimport Cards from \"./component/Cards/Cards\";\nimport qs from \"qs\";\nimport Modal from \"./component/ModalComponent/Modal\";\nimport { csv } from \"d3\";\nimport csvFile from \"./cropData.csv\";\n\nconst STATES = [\n  \"Agartala\",\n]\n\nfunction App() {\n  const [cropData, setCropData] = useState();\n  const [selectedCity, setCity] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [csvData, setCsvData] = useState();\n\n  async function fetchLocationData(props) {\n    try {\n      await axios({\n        method: \"post\",\n        url: \"http://localhost:5000/location\",\n        data: qs.stringify({\n          location: selectedCity,\n        }),\n        headers: {\n          \"content-type\": \"application/x-www-form-urlencoded;charset=utf-8\",\n        },\n      }).then((result) => {\n        setTimeout(() => {\n          setLoading(false);\n          setCropData(result.data)\n        }, 3000)\n      });\n    } catch (error) {\n      console.log(error);\n      setLoading(false);\n    }\n  }\n\n  useEffect(() => {\n    if(selectedCity) {\n      setLoading(true);\n      fetchLocationData();\n    }\n  }, [selectedCity]);\n\n  useEffect(() => {\n    csv(csvFile).then((data) => {\n      setCsvData(data);\n    });\n  }, [])\n\n  return (\n    <div>\n      <nav>\n        <img src={\"https://firebasestorage.googleapis.com/v0/b/linkclip.appspot.com/o/logo.png?alt=media&token=68557a10-fb5f-4396-8425-662b7183ece1\"} alt=\"logo\" width={55} height={55}/>\n        <h3 style={{color: \"orange\", marginTop: 10}}>Agri ML</h3>\n      </nav>\n      <div className=\"content text-start\">\n        <h1 className=\"font\">Select Capital City to Generate ML Analysis</h1>\n        <p>We have added the historical data of these states and our ML system is capable of generating anlytical report of crop yeild based on it.</p>\n        <div style={{display: \"flex\"}}>\n          {\n            STATES.map((state, index) => {\n              return (\n                <span key={index} onClick={(e) => {\n                  setCity(state)\n                  setLoading(true)\n                  }}\n                  className={`bdg ${state === selectedCity ? \"bdg-on\" : \"bdg-off\"}`}\n                >\n                  {state}\n                </span>\n              )\n            })\n          }\n        </div>\n      <Modal data={csvData} />\n\n      {\n        selectedCity ? \n          loading ? (\n            <div className=\"text-center mt-30\">\n              <img src={\"https://firebasestorage.googleapis.com/v0/b/linkclip.appspot.com/o/loading_data.gif?alt=media&token=31d6d30f-b41f-4288-b310-2aada76f1c01\"} alt=\"loading\" width={550}/> <br/>\n            </div>\n          ) : (\n            <Cards data={cropData ? cropData : \"\"} city={selectedCity} />\n          ) : null\n      }\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Cards_container__1OD74\",\"card\":\"Cards_card__2zZAL\"};","module.exports = __webpack_public_path__ + \"static/media/cropData.8698e162.csv\";"],"sourceRoot":""}